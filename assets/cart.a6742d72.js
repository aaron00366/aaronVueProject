import{i as c,j as o}from"./index.620a193e.js";const{VITE_APP_URL:e,VITE_APP_PATH:i}={VITE_APP_URL:"https://ec-course-api.hexschool.io",VITE_APP_PATH:"aaronshih2024",BASE_URL:"/aaronVueProject/",MODE:"production",DEV:!1,PROD:!0},n=c("cart",{state:()=>({carts:[],total:0,final_total:0}),actions:{getCart(){o.get(`${e}/v2/api/${i}/cart`).then(t=>{this.carts=t.data.data.carts,this.total=t.data.data.total,this.final_total=t.data.data.final_total,console.log("\u8CFC\u7269\u8ECA:data from pinia",this.carts)})},addToCart(t,a=1){const r={data:{product_id:t,qty:a}};o.post(`${e}/v2/api/${i}/cart`,r).then(s=>{console.log("\u52A0\u5165\u8CFC\u7269\u8ECA",s),this.getCart()})},deleteItem(t){o.delete(`${e}/api/${i}/cart/${t.id}`).then(a=>{console.log("\u522A\u9664\u8CFC\u7269\u8ECA\u54C1\u9805",a),this.getCart()})},updateCartItem(t){const a={product_id:t.product.id,qty:t.qty};this.loadingItem=t.id,o.put(`${e}/api/${i}/cart/${t.id}`,{data:a}).then(r=>{this.cart=r.data.data,console.log("\u66F4\u65B0\u8CFC\u7269\u8ECA",this.cart),this.getCart(),this.loadingItem=""})}},getters:{}});export{n as c};
